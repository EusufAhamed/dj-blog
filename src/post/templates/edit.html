{% extends "base.html" %} 
{% load static %} 
{% block body %}
<script src="https://cdn.ckeditor.com/4.17.1/standard/ckeditor.js"></script>
<div class="container bootstrap snippets bootdey">
  <h1 class="text-primary">Add Post</h1>
  <hr>
  <div class="row">
    <!-- left column -->
    <!-- <div class="col-md-3"></div> -->
    
    <!-- edit form column -->
    <div class="col-md-10 personal-info">
      
      <h3>Post Information</h3>
      
      <form class="form-horizontal" role="form" enctype="multipart/form-data" action="{% url 'post:editPost' postinfo.id %}" method="POST">
        {% csrf_token %}
        <div class="form-group">
          <label class="col-lg-3 control-label">Title:</label>
          <div class="col-lg-8">
            <p>{{ form.title.errors }}</p>
            <input class="form-control" type="text" name="title" value="{{ postinfo.title }}">
          </div>
        </div>
        
        <div class="form-group">
            <label class="col-lg-3 control-label">Category:</label>
            <div class="col-lg-8">
                <div class="ui-select">
                    <p>{{ form.category.errors }}</p>
                    <select class="form-control" name="category">
                        <option>Select A Category</option>
                        {% for category in categories %}
                        <option {% if postinfo.category.id == category.id %} selected {% endif %} value="{{ category.id }}">{{ category.name|capfirst }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">Description:</label>
          <div class="col-lg-8">
            <p>{{ form.description.errors }}</p>
            <textarea class="col-lg-10 form-control" name="description">{{ postinfo.description }}</textarea>
            <script>CKEDITOR.replace( 'description' );</script>
          </div>
        </div>

        <div class="form-group">
          <label class="col-lg-3 control-label">Cover Image:</label>
          <div class="col-lg-8">
              <a href="{{ postinfo.image.url }}">{{ postinfo.image.url }}</a>
            <p>{{ form.image.errors }}</p>
            <input class="form-control" type="file" name="image">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label"></label>
          <div class="col-lg-8">
            <button type="submit" class="btn">Submit</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <hr>
</div>
{% endblock %}