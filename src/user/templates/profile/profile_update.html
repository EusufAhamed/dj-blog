{% extends "base.html" %} 
{% load static %} 
{% block body %}
<script src="https://cdn.ckeditor.com/4.17.1/basic/ckeditor.js"></script>
<div class="container bootstrap snippets bootdey">
  <h1 class="text-primary">Edit Profile</h1>
  <hr>
  <div class="row">
    <!-- left column -->
    <!-- <div class="col-md-3"></div> -->
    
    <!-- edit form column -->
    <div class="col-md-9 personal-info">
      {% if messages %}
      {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissable">
        <a class="panel-close close" data-dismiss="alert">Ã—</a>
        {{ message }}
      </div>
      {% endfor %}
      {% endif %}
      
      <h3>Personal info</h3>
      
      <form class="form-horizontal" role="form" enctype="multipart/form-data" action="{% url 'user:profileUpdateView' userinfo.username %}" method="POST">
        {% csrf_token %}
        <div class="form-group">
          <label class="col-lg-3 control-label">Name:</label>
          <div class="col-lg-8">
            <p>{{ form.name.errors }}</p>
            <input class="form-control" type="text" value="{{ userinfo.profile.name }}" name="name">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">Email:</label>
          <div class="col-lg-8">
            <input class="form-control" type="email" value="{{ userinfo.email }}" readonly>
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">About:</label>
          <div class="col-lg-8">
            <p>{{ form.about.errors }}</p>
            <textarea class="col-lg-10 form-control" name="about">{{ userinfo.profile.about }}</textarea>
            <script>CKEDITOR.replace( 'about' );</script>
          </div>
        </div>

        <div class="form-group">
          <label class="col-lg-3 control-label">Cover Image:</label>
          <div class="col-lg-8">
            {% if userinfo.profile.cover_image %}
              <a href="{{ userinfo.profile.cover_image.url }}">{{ userinfo.profile.cover_image.url }}</a>
            {% endif %}
            <p>{{ form.cover_image.errors }}</p>
            <input class="form-control" type="file" name="cover_image">
          </div>
        </div>

        <div class="form-group">
          <label class="col-lg-3 control-label">Profile Image:</label>
          <div class="col-lg-8">
            {% if userinfo.profile.profile_image %}
            <a href="{{ userinfo.profile.profile_image.url }}">{{ userinfo.profile.profile_image.url }}</a>
            {% endif %}
            <p>{{ form.profile_image.errors }}</p>
            <input type="file" class="form-control" name="profile_image">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">Facebook:</label>
          <div class="col-lg-8">
            <p>{{ form.facebook.errors }}</p>
            <input class="form-control" type="url" value="{{ userinfo.profile.facebook }}" name="facebook">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">Twitter:</label>
          <div class="col-lg-8">
            <p>{{ form.twitter.errors }}</p>
            <input class="form-control" type="url" value="{{ userinfo.profile.twitter }}" name="twitter">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">Google+:</label>
          <div class="col-lg-8">
            <p>{{ form.google_plus.errors }}</p>
            <input class="form-control" type="url" value="{{ userinfo.profile.google_plus }}" name="google_plus">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label">Instagram:</label>
          <div class="col-lg-8">
            <p>{{ form.instagram.errors }}</p>
            <input class="form-control" type="url" value="{{ userinfo.profile.instagram }}" name="instagram">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-3 control-label"></label>
          <div class="col-lg-8">
            <button type="submit" class="btn">Submit</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <hr>
</div>
{% endblock %}